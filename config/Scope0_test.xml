<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<bean id="ksAdapter"
		class="edu.kit.anthropomatik.isl.newsTeller.knowledgeStore.KnowledgeStoreAdapter">
		<constructor-arg name="getMentionFromEventFileName"
			value="resources/SPARQL/general/getMentionFromEvent.qry" />
		<property name="serverURL" value="http://knowledgestore2.fbk.eu/nwr/wikinews" />
		<property name="timeoutMsec" value="10000" />
	</bean>

	<bean id="finder"
		class="edu.kit.anthropomatik.isl.newsTeller.retrieval.finding.EventFinder">
		<constructor-arg name="userQueryConfigFileName"	value="config/SPARQL/finding_userQuery_Scope0.txt" />
		<constructor-arg name="userInterestConfigFileName" value="config/SPARQL/finding_userInterest_Scope0.txt" />
		<constructor-arg name="previousEventConfigFileName"	value="config/SPARQL/finding_previousEvent_Scope0.txt" />
		<property name="ksAdapter" ref="ksAdapter" />
	</bean>

	<bean id="scorer"
		class="edu.kit.anthropomatik.isl.newsTeller.retrieval.scoring.EventScorer">
		<property name="eventHeuristics">
			<list>
				<!-- TODO: eventHeuristics beans go here! (Scope 2) -->
			</list>
		</property>
		<property name="queryHeuristics">
			<list>
				<!-- TODO: queryHeuristics beans go here! (Scope 3) -->
			</list>
		</property>
		<property name="interestHeuristics">
			<list>
				<!-- TODO: interestHeuristics beans go here! (Scope 4) -->
			</list>
		</property>
		<property name="historyHeuristics">
			<list>
				<!-- TODO: historyHeuristics beans go here! (Socpe 6/7) -->
			</list>
		</property>
	</bean>

	<bean id="aggregator"
		class="edu.kit.anthropomatik.isl.newsTeller.retrieval.aggregating.DummyAggregator">
	</bean>

	<bean id="selector"
		class="edu.kit.anthropomatik.isl.newsTeller.retrieval.selecting.EventSelector">
	</bean>

	<bean id="retriever"
		class="edu.kit.anthropomatik.isl.newsTeller.retrieval.EventRetriever">
		<property name="eventFinder" ref="finder" />
		<property name="eventScorer" ref="scorer" />
		<property name="scoreAggregator" ref="aggregator" />
		<property name="eventSelector" ref="selector" />
	</bean>

	<bean id="generator"
		class="edu.kit.anthropomatik.isl.newsTeller.generation.DummySummaryCreator">
		<property name="ksAdapter" ref="ksAdapter" />
	</bean>

	<bean id="userModel"
		class="edu.kit.anthropomatik.isl.newsTeller.userModel.DummyUserModel">
	</bean>

	<bean id="newsTeller"
		class="edu.kit.anthropomatik.isl.newsTeller.newsTeller.NewsTeller">
		<constructor-arg value="./config/logging-test.properties" />
		<property name="userModel" ref="userModel" />
		<property name="retriever" ref="retriever" />
		<property name="generator" ref="generator" />
	</bean>

	<bean id="main" class="edu.kit.anthropomatik.isl.newsTeller.main.Main">
		<property name="newsTeller" ref="newsTeller" />
	</bean>

	<bean id="benchmark"
		class="edu.kit.anthropomatik.isl.newsTeller.retrieval.RetrievalBenchmark">
		<property name="finder" ref="finder" />
		<property name="scorer" ref="scorer" />
		<property name="aggregator" ref="aggregator" />
		<property name="userModel" ref="userModel" />
		<property name="configFileName" value="resources/benchmark/Scope 0.csv" />
	</bean>

</beans>